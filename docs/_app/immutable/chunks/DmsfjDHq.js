import{G as i,A as u}from"./DQP14zVN.js";import{n as h,u as m,r as c}from"./C6i2Uxh4.js";const r="EXT_meshopt_compression";class d{constructor(t){this.name=r,this.enabled=t.isExtensionUsed(r),this._loader=t}dispose(){this._loader=null}loadBufferViewAsync(t,o){return i.LoadExtensionAsync(t,o,this.name,async(p,e)=>{const s=o;if(s._meshOptData)return await s._meshOptData;const n=u.Get(`${t}/buffer`,this._loader.gltf.buffers,e.buffer);return s._meshOptData=this._loader.loadBufferAsync(`/buffers/${n.index}`,n,e.byteOffset||0,e.byteLength).then(async f=>await h.Default.decodeGltfBufferAsync(f,e.count,e.byteStride,e.mode,e.filter)),await s._meshOptData})}}m(r);c(r,!0,a=>new d(a));export{d as EXT_meshopt_compression};
