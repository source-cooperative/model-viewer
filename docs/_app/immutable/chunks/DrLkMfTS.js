import{G as d}from"./DQP14zVN.js";import{u as p,r as l}from"./C6i2Uxh4.js";const t="KHR_materials_dispersion";class h{constructor(s){this.name=t,this.order=174,this._loader=s,this.enabled=this._loader.isExtensionUsed(t)}dispose(){this._loader=null}loadMaterialPropertiesAsync(s,e,r){return d.LoadExtensionAsync(s,e,this.name,async(i,o)=>{const n=new Array;return n.push(this._loader.loadMaterialPropertiesAsync(s,e,r)),n.push(this._loadDispersionPropertiesAsync(i,e,r,o)),await Promise.all(n).then(()=>{})})}_loadDispersionPropertiesAsync(s,e,r,i){const o=this._loader._getOrCreateMaterialAdapter(r);return o.transmissionWeight>0||!i.dispersion||(o.transmissionDispersionAbbeNumber=20/i.dispersion),Promise.resolve()}}p(t);l(t,!0,a=>new h(a));export{h as KHR_materials_dispersion};
