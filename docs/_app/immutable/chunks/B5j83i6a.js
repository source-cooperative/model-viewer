import{u as t,r}from"./C6i2Uxh4.js";import{A as b}from"./CgnRweuB.js";const o="KHR_node_visibility";b("/nodes/{}/extensions/KHR_node_visibility/visible",{get:e=>{const i=e._babylonTransformNode;return i&&i.isVisible!==void 0?i.isVisible:!0},set:(e,i)=>{i._primitiveBabylonMeshes?.forEach(s=>{s.inheritVisibility=!0}),i._babylonTransformNode&&(i._babylonTransformNode.isVisible=e),i._primitiveBabylonMeshes?.forEach(s=>{s.isVisible=e})},getTarget:e=>e._babylonTransformNode,getPropertyName:[()=>"isVisible"],type:"boolean"});class l{constructor(i){this.name=o,this._loader=i,this.enabled=i.isExtensionUsed(o)}onReady(){if(!this._loader)return;const i=this._loader.gltf.nodes;if(i)for(const s of i){const n=s._babylonTransformNode;n&&(n.inheritVisibility=!0,s.extensions&&s.extensions.KHR_node_visibility&&s.extensions.KHR_node_visibility.visible===!1&&(n.isVisible=!1))}}dispose(){delete this._loader}}t(o);r(o,!0,e=>new l(e));export{l as KHR_node_visibility};
